<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>L√¨ X√¨ & Xin XƒÉm 2026</title>
    <style>
        /* --- C·∫§U H√åNH C∆† B·∫¢N --- */
        body {
            margin: 0; padding: 0;
            background: radial-gradient(circle, #800000, #300000);
            font-family: 'Arial', sans-serif;
            color: #fff;
            overflow: hidden;
            height: 100vh; width: 100vw;
            display: flex; flex-direction: column; align-items: center;
        }

        /* --- MENU CHUY·ªÇN TAB --- */
        .nav-bar {
            margin-top: 15px;
            z-index: 100;
            display: flex; gap: 10px;
        }
        .nav-btn {
            padding: 10px 20px;
            border: 2px solid #ffd700;
            background: #b71c1c;
            color: #fff;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
        }
        .nav-btn.active {
            background: #ffd700; color: #b71c1c;
            box-shadow: 0 0 10px #ffd700;
        }

        /* --- KHUNG CH·ª®A N·ªòI DUNG --- */
        .content-area {
            position: relative;
            flex: 1; width: 100%;
            display: flex; justify-content: center; align-items: center;
            z-index: 50;
        }
        
        .tab { display: none; flex-direction: column; align-items: center; width: 100%; }
        .tab.show { display: flex; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        h1 {
            color: #ffd700; text-shadow: 2px 2px 4px #000;
            margin-bottom: 20px; text-align: center; text-transform: uppercase;
        }

        /* --- V√íNG QUAY --- */
        .wheel-wrap { position: relative; width: 320px; height: 320px; }
        .wheel {
            width: 100%; height: 100%; border-radius: 50%; border: 8px solid #ffd700;
            box-sizing: border-box;
            background: conic-gradient(
                #d32f2f 0% 12.5%, #ffeb3b 12.5% 25%, 
                #d32f2f 25% 37.5%, #ffeb3b 37.5% 50%, 
                #d32f2f 50% 62.5%, #ffeb3b 62.5% 75%, 
                #d32f2f 75% 87.5%, #ffeb3b 87.5% 100%
            );
            transition: transform 4s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .pointer {
            position: absolute; top: -20px; left: 50%; transform: translateX(-50%);
            border-left: 20px solid transparent; border-right: 20px solid transparent;
            border-top: 40px solid #fff; z-index: 20;
        }
        .spin-btn {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 70px; height: 70px; background: #fff; border-radius: 50%;
            border: 4px solid #d32f2f; color: #d32f2f; font-weight: bold; cursor: pointer; z-index: 30;
        }

        /* --- ·ªêNG XƒÇM --- */
        .tube-container {
            position: relative; width: 120px; height: 200px;
            background: #795548; border: 4px solid #ffd700;
            border-radius: 10px 10px 50px 50px; margin-bottom: 30px;
            display: flex; justify-content: center;
        }
        .tube-label {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 40px; color: #ffd700; font-weight: bold;
            border: 2px solid #ffd700; border-radius: 50%; padding: 5px;
        }
        .shaking { animation: shake 0.5s infinite; }
        @keyframes shake {
            0% { transform: rotate(0deg); } 25% { transform: rotate(5deg); }
            50% { transform: rotate(0deg); } 75% { transform: rotate(-5deg); }
            100% { transform: rotate(0deg); }
        }
        .shake-btn {
            padding: 15px 40px; background: #ffeb3b; color: #d32f2f;
            border: none; border-radius: 30px; font-size: 20px; font-weight: bold;
            cursor: pointer; box-shadow: 0 5px #f57f17;
        }
        .shake-btn:active { transform: translateY(4px); box-shadow: none; }

        /* --- POPUP --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 200;
            justify-content: center; align-items: center;
        }
        .modal-box {
            background: #fff; width: 90%; max-width: 350px; padding: 20px;
            border-radius: 15px; text-align: center; border: 4px solid #ffd700;
        }
        .modal-title { font-size: 22px; color: #d32f2f; margin: 0 0 10px 0; font-weight: bold; }
        .modal-result { font-size: 32px; color: #ff6f00; font-weight: bold; margin: 10px 0; }
        .modal-desc { color: #333; font-style: italic; margin-bottom: 20px; font-size: 16px; line-height: 1.4; }
        .close-btn {
            background: #d32f2f; color: #fff; padding: 10px 30px;
            border: none; border-radius: 20px; cursor: pointer; font-size: 16px;
        }

        /* --- HI·ªÜU ·ª®NG --- */
        .running-track {
            position: fixed; bottom: 0; left: 0;
            width: 100%; height: 60px; z-index: 1; pointer-events: none;
        }
        .horse-runner {
            position: absolute; bottom: 5px; font-size: 40px;
            animation: runAcross 8s linear infinite;
        }
        .horse-runner-2 {
            position: absolute; bottom: 10px; font-size: 35px; opacity: 0.8;
            animation: runAcross 10s linear infinite; animation-delay: 2s;
        }
        @keyframes runAcross {
            0% { left: -10%; transform: scaleX(1); }
            50% { left: 110%; transform: scaleX(1); }
            51% { left: 110%; transform: scaleX(-1); }
            100% { left: -10%; transform: scaleX(-1); }
        }

        .falling-item {
            position: absolute; top: -10%; z-index: 1;
            animation: fall linear infinite; pointer-events: none;
        }
        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }
        
        @media (max-width: 600px) { .wheel-wrap { width: 280px; height: 280px; } }
    </style>
</head>
<body>

    <div class="nav-bar">
        <button id="btn-wheel" class="nav-btn active" onclick="openTab('wheel')">V√≤ng Quay</button>
        <button id="btn-fortune" class="nav-btn" onclick="openTab('fortune')">Gieo Qu·∫ª</button>
    </div>

    <div class="content-area">
        <div id="tab-wheel" class="tab show">
            <h1>üßß L√¨ X√¨ 2026 üßß</h1>
            <div class="wheel-wrap">
                <div class="pointer"></div>
                <div class="wheel" id="wheelElement"></div>
                <button class="spin-btn" onclick="startSpin()">QUAY</button>
            </div>
        </div>

        <div id="tab-fortune" class="tab">
            <h1>üéã Xin XƒÉm üéã</h1>
            <div class="tube-container" id="tubeElement">
                <div class="tube-label">L·ªòC</div>
            </div>
            <button class="shake-btn" onclick="startShake()">L·∫ÆC QU·∫∫</button>
        </div>
    </div>

    <div class="running-track">
        <div class="horse-runner">üêé</div>
        <div class="horse-runner-2">üêé</div>
    </div>

    <div class="modal" id="myModal">
        <div class="modal-box">
            <div class="modal-title" id="mTitle"></div>
            <div class="modal-result" id="mResult"></div>
            <div class="modal-desc" id="mDesc"></div>
            <button class="close-btn" onclick="closePopup()">NH·∫¨N</button>
        </div>
    </div>

    <script>
        // --- C·∫§U H√åNH GI·∫¢I TH∆Ø·ªûNG (8 M√ìN) ---
        const prizes = ["10k", "20k", "30k", "50k", "60k", "100k", "200k", "500k"];
        
        // --- T·ª∂ L·ªÜ TR√öNG (T·ªïng = 100) ---
        // 500k ·ªü cu·ªëi c√πng, t·ª∑ l·ªá 0.0001
        const ratios = [
            35,      // 10k: 35%
            30,      // 20k: 30%
            20,      // 30k: 20%
            10,      // 50k: 10%
            4,       // 60k: 4%
            0.9,     // 100k: 0.9%
            0.0999,  // 200k: ~0.1%
            0.0001   // 500k: 0.0001% (Si√™u hi·∫øm)
        ];
        
        const fortunes = [
            {t: "QU·∫∫ S·ªê 1 - ƒê·∫†I C√ÅT", d: "Th·ªùi t·ªõi c·∫£n kh√¥ng k·ªãp! L√†m g√¨ c≈©ng th·∫Øng, mua g√¨ c≈©ng l·ªùi."},
            {t: "QU·∫∫ S·ªê 2 - T√åNH DUY√äN", d: "H·ªìng loan tin vui. NƒÉm nay ch·∫Øc ch·∫Øn c√≥ ng∆∞·ªùi r∆∞·ªõc ho·∫∑c c√≥ g·∫•u."},
            {t: "QU·∫∫ S·ªê 3 - S·ª∞ NGHI·ªÜP", d: "Qu√Ω nh√¢n ph√π tr·ª£. S·∫øp tƒÉng l∆∞∆°ng, ƒë·ªìng nghi·ªáp m·ªùi tr√† s·ªØa."},
            {t: "QU·∫∫ S·ªê 4 - T√ÄI L·ªòC", d: "Ti·ªÅn v√†o c·ª≠a tr∆∞·ªõc, v√†ng v√†o c·ª≠a sau. C·∫©n th·∫≠n k·∫ªo v√≠ ch·∫≠t!"},
            {t: "QU·∫∫ S·ªê 5 - S·ª®C KH·ªéE", d: "ƒÇn ƒë∆∞·ª£c ng·ªß ƒë∆∞·ª£c l√† ti√™n. NƒÉm nay s·ª©c kh·ªèe v√¥ ƒë·ªãch thi√™n h·∫°."},
            {t: "QU·∫∫ S·ªê 6 - TRUNG C√ÅT", d: "M·ªçi s·ª± b√¨nh an. C·ª© s·ªëng vui v·∫ª, may m·∫Øn t·ª± t√¨m ƒë·∫øn."},
            {t: "QU·∫∫ S·ªê 7 - H·ªåC T·∫¨P", d: "Tr√≠ tu·ªá minh m·∫´n. H·ªçc m·ªôt hi·ªÉu m∆∞·ªùi, thi ƒë√¢u ƒë·∫≠u ƒë√≥."},
            {t: "QU·∫∫ S·ªê 8 - GIA ƒê·∫†O", d: "Trong ·∫•m ngo√†i √™m. Gia ƒë√¨nh h·∫°nh ph√∫c, ti·∫øng c∆∞·ªùi r·ªôn r√£."},
            {t: "QU·∫∫ S·ªê 9 - TH∆Ø·ª¢NG C√ÅT", d: "C·∫ßu ƒë∆∞·ª£c ∆∞·ªõc th·∫•y. D·ª± ƒë·ªãnh ·∫•p ·ªß b·∫•y l√¢u nay s·∫Ω th√†nh hi·ªán th·ª±c."},
            {t: "QU·∫∫ S·ªê 10 - B·∫†N B√à", d: "G·∫∑p l·∫°i c·ªë nh√¢n. S·∫Øp c√≥ k√®o ƒÉn ch∆°i nh·∫£y m√∫a t∆∞ng b·ª´ng."},
            {t: "QU·∫∫ S·ªê 11 - XU·∫§T H√ÄNH", d: "ƒêi xa g·∫∑p may. Chuy·∫øn ƒëi s·∫Øp t·ªõi s·∫Ω mang l·∫°i nhi·ªÅu l·ªôc l√°."},
            {t: "QU·∫∫ S·ªê 12 - T√åNH C·∫¢M", d: "ƒê√†o hoa n·ªü r·ªô. Ra ng√µ g·∫∑p ng∆∞·ªùi th∆∞∆°ng, v√†o nh√† g·∫∑p ng∆∞·ªùi m·∫øn."},
            {t: "QU·∫∫ S·ªê 13 - KINH DOANH", d: "Bu√¥n may b√°n ƒë·∫Øt. Kh√°ch h√†ng x·∫øp h√†ng d√†i ch·ªù ch·ªët ƒë∆°n."},
            {t: "QU·∫∫ S·ªê 14 - C√îNG DANH", d: "ThƒÉng quan ti·∫øn ch·ª©c. Gh·∫ø cao ƒëang ƒë·ª£i, ch·ªâ c·∫ßn n·ªó l·ª±c th√™m ch√∫t."},
            {t: "QU·∫∫ S·ªê 15 - MAY M·∫ÆN", d: "V·∫≠n ƒë·ªè nh∆∞ son. C√≥ th·ªÉ tr√∫ng th∆∞·ªüng b·∫•t ng·ªù (v√© s·ªë, giveaway)."},
            {t: "QU·∫∫ S·ªê 16 - L·ªúI KHUY√äN", d: "B·ªõt nh·∫≠u nh·∫πt, chƒÉm t·∫≠p Gym. Body ƒë·∫πp th√¨ l√†m g√¨ c≈©ng thu·∫≠n."},
            {t: "QU·∫∫ S·ªê 17 - C·∫®N TR·ªåNG", d: "N√≥i √≠t l√†m nhi·ªÅu. Tr√°nh th·ªã phi c√¥ng s·ªü, t·∫≠p trung ki·∫øm ti·ªÅn."},
            {t: "QU·∫∫ S·ªê 18 - VUI V·∫∫", d: "Hay ƒÉn ch√≥ng b√©o. T√¢m h·ªìn ƒÉn u·ªëng nƒÉm nay ƒë∆∞·ª£c tho·∫£ m√£n t·ªëi ƒëa."},
            {t: "QU·∫∫ S·ªê 19 - B·∫§T NG·ªú", d: "M·ªôt m√≥n qu√† l·ªõn t·ª´ ng∆∞·ªùi l·∫° ho·∫∑c tin vui t·ª´ ph∆∞∆°ng xa ƒëang t·ªõi."},
            {t: "QU·∫∫ S·ªê 20 - TH√ÄNH C√îNG", d: "M√£ ƒë√°o th√†nh c√¥ng. NƒÉm Ng·ª±a ch·∫°y n∆∞·ªõc ƒë·∫°i v·ªÅ ƒë√≠ch r·ª±c r·ª°!"}
        ];

        let isBusy = false; 
        let currentDeg = 0;

        function openTab(name) {
            document.getElementById('tab-wheel').classList.remove('show');
            document.getElementById('tab-fortune').classList.remove('show');
            document.getElementById('btn-wheel').classList.remove('active');
            document.getElementById('btn-fortune').classList.remove('active');

            document.getElementById('tab-' + name).classList.add('show');
            document.getElementById('btn-' + name).classList.add('active');
        }

        // --- H√ÄM T√çNH K·∫æT QU·∫¢ THEO TR·ªåNG S·ªê ---
        function getWeightedResult() {
            const random = Math.random() * 100; 
            let sum = 0;
            for (let i = 0; i < ratios.length; i++) {
                sum += ratios[i];
                if (random < sum) return i; 
            }
            return 0; 
        }

        function startSpin() {
            if (isBusy) return; isBusy = true;
            
            // 1. T√≠nh tr∆∞·ªõc k·∫øt qu·∫£ (Hack nh·∫π d·ª±a theo t·ª∑ l·ªá)
            const winningIndex = getWeightedResult();
            
            // 2. T√≠nh g√≥c d·ª´ng
            const sliceSize = 360 / prizes.length;
            const stopAngle = 360 - (winningIndex * sliceSize) - (Math.random() * 20 + 10);
            
            const currentMod = currentDeg % 360;
            const dist = stopAngle - currentMod + 3600; // Quay th√™m 10 v√≤ng
            currentDeg += dist;

            const wheel = document.getElementById('wheelElement');
            wheel.style.transform = `rotate(${currentDeg}deg)`;

            setTimeout(() => {
                isBusy = false;
                let msg = "L·ªôc ƒë·∫ßu nƒÉm, c·∫£ nƒÉm may m·∫Øn!";
                // N·∫øu tr√∫ng 500k th√¨ hi·ªán l·ªùi ch√∫c ƒë·∫∑c bi·ªát
                if(prizes[winningIndex] === "500k") {
                    msg = "üò± WOW! B·∫†N ƒê√É TR√öNG JACKPOT SI√äU HI·∫æM!";
                }
                showPopup("üßß CH√öC M·ª™NG üßß", prizes[winningIndex], msg);
            }, 4000);
        }

        function startShake() {
            if (isBusy) return; isBusy = true;
            const tube = document.getElementById('tubeElement');
            tube.classList.add('shaking');

            setTimeout(() => {
                tube.classList.remove('shaking');
                isBusy = false;
                const item = fortunes[Math.floor(Math.random() * fortunes.length)];
                showPopup(item.t, "", item.d);
            }, 2000);
        }

        function showPopup(title, result, desc) {
            document.getElementById('mTitle').innerText = title;
            document.getElementById('mResult').innerText = result;
            document.getElementById('mDesc').innerText = desc;
            document.getElementById('myModal').style.display = 'flex';
        }

        function closePopup() {
            document.getElementById('myModal').style.display = 'none';
        }

        function createFallingItem() {
            const item = document.createElement('div');
            item.classList.add('falling-item');
            const icons = ['üå∏', 'üåº', 'üßß', 'üí∞'];
            item.innerText = icons[Math.floor(Math.random() * icons.length)];
            item.style.left = Math.random() * 100 + 'vw';
            item.style.fontSize = (Math.random() * 15 + 15) + 'px';
            item.style.animationDuration = Math.random() * 3 + 3 + 's'; 
            document.body.appendChild(item);
            setTimeout(() => { item.remove(); }, 6000);
        }
        setInterval(createFallingItem, 500); 
    </script>
</body>
</html>
